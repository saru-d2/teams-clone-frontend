{"version":3,"sources":["components/landing.jsx","config.js","helpers/socketConfig.js","components/vidGrid.jsx","components/prevChats.jsx","components/chatPane.jsx","components/mainWindow.jsx","App.jsx","reportWebVitals.js","index.js"],"names":["axios","require","Landing","props","state","errors","formData","onChange","bind","onJoinRoom","onCreateRoom","e","temp","this","target","id","value","setState","reqData","dispName","roomID","console","log","req","post","then","res","data","room_exists","history","push","alert","sessionStorage","setItem","className","type","required","placeholder","onClick","Component","SERVER","socket","openSocket","Video","ref","useRef","useEffect","peer","on","stream","current","srcObject","playsInline","autoPlay","Room","useState","micStatus","setMic","camStatus","setCam","peers","setPeers","userVideo","userMediaRef","peersRef","toggleMute","getAudioTracks","enabled","toggleCam","getVideoTracks","MicIcon","Mic","MicOff","VidIcon","Videocam","VideocamOff","navigator","mediaDevices","getUserMedia","video","audio","emit","users","tempPeers","forEach","userID","userToSignal","callerID","Peer","initiator","trickle","signal","createPeer","peerID","payload","incomingSignal","addPeer","peerObj","find","p","destroy","peersRefCur","filter","muted","map","PrevChats","messages","msg","from","scrollToBottom","msg_list","document","getElementById","scrollTo","scrollHeight","clientHeight","Chat","setMesssages","msg_input","setMsg","getMsgs","Data","name","onKeyPress","key","length","MainWindow","getItem","match","params","defaults","baseURL","App","exact","path","component","vidChat","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode"],"mappings":"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","file":"static/js/main.58cacdb9.chunk.js","sourcesContent":["import React, { Component } from \"react\";\nconst axios = require('axios');\n\n\nexport default class Landing extends Component {\n    constructor(props) {\n        super(props);\n        this.state = {\n            errors: {},\n            formData: {}\n        }\n        this.onChange = this.onChange.bind(this)\n        this.onJoinRoom = this.onJoinRoom.bind(this)\n        this.onCreateRoom = this.onCreateRoom.bind(this)\n    }\n\n    onChange(e) {\n        var temp = this.state.formData;\n        temp[e.target.id] = e.target.value;\n        this.setState({ formData: temp });\n    }\n\n    onJoinRoom() {\n        if (this.state.formData['display-name'] == null ||\n            this.state.formData['roomID'] == null) {\n            alert('fill in the roomID and display name')\n            return\n        }\n        var reqData = {\n            dispName: this.state.formData['display-name'],\n            roomID: this.state.formData['roomID'],\n        }\n        console.log({ req: reqData });\n\n        axios.post('/joinRoom', reqData).then(res => {\n            console.log(res)\n            //TODO redirect to room\n            if (res.data.room_exists == false) {\n                alert('room does not exist');\n                return\n            }\n            else {\n                this.props.history.push(`/${reqData.roomID}`);\n            }\n        })\n        sessionStorage.setItem('dispName', reqData.dispName)\n\n    }\n\n    onCreateRoom() {\n        console.log('create room');\n        if (this.state.formData['display-name'] == null ||\n            this.state.formData['roomID'] == null) {\n            alert('fill in the roomID and display name')\n            return\n        }\n        var reqData = {\n            dispName: this.state.formData['display-name'],\n            roomID: this.state.formData['roomID'],\n        }\n        console.log({ req: reqData });\n\n        axios.post('/createRoom', reqData).then(res => {\n            console.log(res)\n            //TODO redirect to room\n            if (res.data.room_exists == true) {\n                alert('room already exists');\n                return\n            } else {\n                this.props.history.push(`/${reqData.roomID}`);\n            }\n        })\n        sessionStorage.setItem('dispName', reqData.dispName)\n    }\n\n    render() {\n        return (\n            <div className='container  mt-5 '>\n                <h1 className=\"big-text text-center mb-0\"><b>TeamsLite</b></h1>\n                <div className='rounded-corners'>\n                    <input type=\"text\" required id='display-name' onChange={this.onChange} placeholder='displayName' className=\"form-control\" />\n                </div>\n                <br />\n                <div className='column text-center'>\n                    <input type=\"text\" id='roomID' onChange={this.onChange} placeholder='roomID' className=\"form-control\"/> <br/>\n                    <button className=\" muave shadow-move btn mx-md-2 my-2 my-md-0\" onClick={this.onCreateRoom}>create new room</button>\n                    <button className=\"red shadow-move btn  mx-md-2 my-2 my-md-0\" onClick={this.onJoinRoom}>join room</button>\n                </div>\n            </div>\n        )\n    }\n}","// const SERVER = 'https://teams-clone-backend-server.herokuapp.com/'\nconst SERVER = 'http://localhost:4000'\n\nexport default SERVER;","import openSocket from 'socket.io-client';\nimport SERVER from '../config';\n\nconst socket = openSocket(SERVER);\n\nexport default socket;","import React, { useEffect, useRef, useState } from \"react\";\nimport Peer from \"simple-peer\";\nimport socket from '../helpers/socketConfig'\nimport { Mic, MicOff, VideocamOff, Videocam } from '@material-ui/icons'\nimport SERVER from '../config'\n// const SERVER = 'https://teams-clone-backend-server.herokuapp.com/'\n\nconst Video = (props) => {\n    const ref = useRef();\n\n    useEffect(() => {\n        props.peer.on(\"stream\", stream => {\n            ref.current.srcObject = stream;\n        })\n    }, []);\n\n    return (\n        <video className='h-50 col-md-5 col-sm-12 p-1' playsInline autoPlay ref={ref} />\n    );\n}\n\n\n\n\nconst Room = (props) => {\n    const [micStatus, setMic] = useState(true)\n    const [camStatus, setCam] = useState(true)\n    const [peers, setPeers] = useState([]);\n    const userVideo = useRef();\n    const userMediaRef = useRef();\n    const peersRef = useRef([]);\n    const dispName = props.dispName\n    const roomID = props.roomID;\n\n    useEffect(() => {\n        socket.on('connection', () => {\n            console.log('connected to client')\n        })\n        navigator.mediaDevices.getUserMedia({ video: true, audio: true }).then(stream => {\n            userVideo.current.srcObject = stream;\n            userMediaRef.current = stream;\n            socket.emit(\"join room\", roomID);\n\n            socket.on(\"all users\", users => {\n                const tempPeers = [];\n                console.log(users)\n                users.forEach(userID => {\n                    const peer = createPeer(userID, socket.id, stream);\n                    peersRef.current.push({\n                        peerID: userID,\n                        peer,\n                    })\n                    // tempPeers.push(({peer}));\n                    tempPeers.push({\n                        peerID: userID,\n                        peer,\n                    })\n                })\n                setPeers(tempPeers);\n            })\n\n            socket.on(\"user joined\", payload => {\n                const peer = addPeer(payload.signal, payload.callerID, stream);\n                peersRef.current.push({\n                    peerID: payload.callerID,\n                    peer,\n                })\n                setPeers([...peers, { peer, peerID: payload.callerID }]);\n                \n            });\n\n            socket.on(\"user-left\", data => {\n                const id = data.userID;\n                const peerObj = peersRef.current.find(p => p.peerID == id)\n                if (peerObj) peerObj.peer.destroy();\n                const peersRefCur = peersRef.current.filter(p => p.peerID !== id)\n                peersRef.current = peersRefCur\n                setPeers(peersRefCur)\n            })\n\n            socket.on(\"receiving returned signal\", payload => {\n                const item = peersRef.current.find(p => p.peerID === payload.id);\n                item.peer.signal(payload.signal);\n            });\n        })\n    }, []);\n\n    function createPeer(userToSignal, callerID, stream) {\n        const peer = new Peer({\n            initiator: true,\n            trickle: false,\n            stream,\n        });\n\n        peer.on(\"signal\", signal => {\n            socket.emit(\"sending signal\", { userToSignal, callerID, signal })\n        })\n\n        return peer;\n    }\n\n    function addPeer(incomingSignal, callerID, stream) {\n        const peer = new Peer({\n            initiator: false,\n            trickle: false,\n            stream,\n        })\n\n        peer.on(\"signal\", signal => {\n            socket.emit(\"returning signal\", { signal, callerID })\n        })\n\n        peer.signal(incomingSignal);\n\n        return peer;\n    }\n\n    function stuff(e) {\n        console.log(peers)\n    }\n\n    function toggleMute() {\n        if (userMediaRef.current)\n            userMediaRef.current.getAudioTracks()[0].enabled = !userMediaRef.current.getAudioTracks()[0].enabled\n        setMic(!micStatus);\n        console.log('mute')\n    }\n    function toggleCam() {\n        if (userMediaRef.current)\n            userMediaRef.current.getVideoTracks()[0].enabled = !userMediaRef.current.getVideoTracks()[0].enabled\n        setCam(userMediaRef.current.getVideoTracks()[0].enabled);\n        console.log('cam')\n    }\n\n    function MicIcon() {\n        // if mic on\n        const enabled = micStatus\n        if (enabled)\n            return (\n                <Mic onClick={toggleMute} />\n            )\n        else return (\n            <MicOff onClick={toggleMute} />\n        )\n    }\n\n    function VidIcon() {\n        // if mic on\n        const enabled = camStatus\n        if (enabled)\n            return (\n                <Videocam onClick={toggleCam} />\n            )\n        else return (\n            <VideocamOff onClick={toggleCam} />\n        )\n    }\n    return (\n        <div className='sea-green h-100 container m-0 p-0 '>\n            <div className='row h-95 align-middle justify-content-center vidGrid'>\n                <video className='h-50 col-md-5 col-sm-12 p-1' muted ref={userVideo} autoPlay playsInline />\n                {peers.map((peer) => {\n                    return (\n                        <Video key={peer.peerID} peer={peer.peer} />\n                    );\n                })}\n            </div>\n            <div className='controls row-md-5 h-5 w-100 muave text-center align-center '>\n                <MicIcon />\n                <VidIcon />\n            </div>\n        </div>\n    );\n};\n\nexport default Room;\n","import React, { useEffect, useRef, useState } from \"react\";\n\n\nconst PrevChats = (props) => {\n    const messages = props.messages;\n\n    return (\n        <ul className='message-list w-100' >\n            {messages.map(msg => {\n                return <li><div className='msg '>{msg.from}:<br /> {msg.msg}<br /></div><br /></li>\n            })}\n\n        </ul>\n    )\n}\n\nexport default PrevChats;","import React, { useEffect, useRef, useState } from \"react\";\nimport axios from 'axios'\nimport socket from '../helpers/socketConfig'\nimport { VariableSizeList as List } from \"react-window\";\nimport AutoSizer from \"react-virtualized-auto-sizer\";\nimport PrevChats from \"./prevChats\";\nimport { animateScroll } from \"react-scroll\";\n\nfunction scrollToBottom() {\n    console.log('scroll')\n    const msg_list = document.getElementById('msg-list')\n    console.log(msg_list)\n    msg_list.scrollTo(0, msg_list.scrollHeight - msg_list.clientHeight)\n}\n\nconst Chat = (props) => {\n    const [error, setError] = useState([])\n    const [messages, setMesssages] = useState([])\n    const [msg_input, setMsg] = useState('')\n    const dispName = props.dispName\n    const roomID = props.roomID\n\n\n\n    useEffect(() => {\n        scrollToBottom()\n        getMsgs()\n        socket.on('msg-sent', (Data) => {\n            console.log('new-messages');\n            // getMsgs();\n            console.log(Data)\n            setMesssages(Data)\n            scrollToBottom()\n\n        })\n        scrollToBottom()\n\n    }, [])\n\n    const getMsgs = () => {\n        const reqData = { roomID: roomID }\n        console.log('getmsgs')\n        axios.post('/getMsg', reqData).then(res => {\n            setMesssages(res.data.msg_list)\n            scrollToBottom()\n        })\n    }\n\n    const handleKeyPress = (e) => {\n        if (e.key === 'Enter') {\n            //TODO send msg through axios\n            // getMsgs()\n            // socket.emit('new-msg', (roomID));\n\n            if (msg_input.length > 0) {\n                const reqData = {\n                    msg: msg_input,\n                    from: dispName,\n                    roomID: roomID,\n                }\n                console.log({ reqData })\n                // axios.post('/sendMsg', reqData).then(res => {\n                //     // console.log(res);\n                // })\n                socket.emit('new-msg', (reqData));\n                setMsg('')\n                var chat_input = document.getElementById('chat-input');\n                chat_input.value = ''\n            }\n        }\n    }\n\n    const onChanegMsg = (e) => {\n        setMsg(e.target.value);\n    }\n\n    return (\n        <div className=\"chat-pane\">\n            <div className='prev-chats' id='msg-list'>\n                <PrevChats messages={messages} />\n            </div>\n            <div className='chat-input text-center' >\n                <input type=\"text\" className=\"w-100\" name=\"chat-input\" id=\"chat-input\" onKeyPress={handleKeyPress} onChange={onChanegMsg} id='chat-input' />\n            </div>\n        </div>\n    )\n}\n\nexport default Chat","import React, { useEffect, useRef, useState } from \"react\";\nimport Room from './vidGrid'\nimport Chat from './chatPane'\nimport socketClient from \"socket.io-client\";\nimport SERVER from '../config'\n\nconst axios = require('axios');\n\n\nconst MainWindow = (props) => {\n    const dispName = sessionStorage.getItem('dispName')\n    const roomID = props.match.params.roomID\n\n\n    return (\n        <div className='container w-100 h-100 mw-100 mh-100 m-0 p-0  main-window'>\n            <div className=\"row m-0 p-0 h-100 vh-100 \">\n                <div className='col-md-9 col-sm-7 col-xs-6 m-0 p-0 h-100'>\n                    <Room roomID={roomID} dispName={dispName} />\n                </div>\n                <div className='col-md-3 col-sm-5 col-xs-6 m-0 p-0'>\n                    <Chat dispName={dispName} roomID={roomID} />\n                </div>\n            </div>\n        </div>\n    )\n\n}\n\nexport default MainWindow;\n","import axios from 'axios';\nimport { Redirect, HashRouter as Router, Route } from 'react-router-dom';\nimport Landing from './components/landing'\nimport vidChat from './components/mainWindow'\n\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport 'bootstrap/dist/js/bootstrap.bundle.min'; \nimport './App.css';\n\nimport SERVER from './config'\naxios.defaults.baseURL = SERVER;\n\n\n\nfunction App() {\n  return (\n    <Router>\n      <Route exact path = '/' component={Landing} />\n      <Route exact path = '/:roomID' component={vidChat} />\n    </Router>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}