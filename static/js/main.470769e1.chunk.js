(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{127:function(e,t){},129:function(e,t){},164:function(e,t,n){},165:function(e,t,n){"use strict";n.r(t);var c=n(0),o=n.n(c),s=n(81),a=n.n(s),i=(n(94),n(29)),r=n.n(i),l=n(3),m=n(34),A=n(82),u=n(83),d=n(24),g=n(88),b=n(86),j=n(2),I=n(29),h=function(e){Object(g.a)(n,e);var t=Object(b.a)(n);function n(e){var c;return Object(A.a)(this,n),(c=t.call(this,e)).state={errors:{},formData:{}},c.onChange=c.onChange.bind(Object(d.a)(c)),c.onJoinRoom=c.onJoinRoom.bind(Object(d.a)(c)),c.onCreateRoom=c.onCreateRoom.bind(Object(d.a)(c)),c}return Object(u.a)(n,[{key:"onChange",value:function(e){var t=this.state.formData;t[e.target.id]=e.target.value,this.setState({formData:t})}},{key:"onJoinRoom",value:function(){var e=this;if(null!=this.state.formData["display-name"]&&null!=this.state.formData.roomID){var t={dispName:this.state.formData["display-name"],roomID:this.state.formData.roomID};console.log({req:t}),I.post("/joinRoom",t).then((function(n){console.log(n),0!=n.data.room_exists?e.props.history.push("/".concat(t.roomID)):alert("room does not exist")})),sessionStorage.setItem("dispName",t.dispName)}else alert("fill in the roomID and display name")}},{key:"onCreateRoom",value:function(){var e=this;if(console.log("create room"),null!=this.state.formData["display-name"]&&null!=this.state.formData.roomID){var t={dispName:this.state.formData["display-name"],roomID:this.state.formData.roomID};console.log({req:t}),I.post("/createRoom",t).then((function(n){console.log(n),1!=n.data.room_exists?e.props.history.push("/".concat(t.roomID)):alert("room already exists")})),sessionStorage.setItem("dispName",t.dispName)}else alert("fill in the roomID and display name")}},{key:"render",value:function(){return Object(j.jsxs)("div",{className:"container  mt-5 ",children:[Object(j.jsx)("h1",{className:"big-text text-center logo-color mb-0",children:Object(j.jsx)("b",{children:"TeamsLite"})}),Object(j.jsx)("div",{className:"rounded-corners",children:Object(j.jsx)("input",{type:"text",required:!0,id:"display-name",onChange:this.onChange,placeholder:"displayName",className:"form-control"})}),Object(j.jsx)("br",{}),Object(j.jsxs)("div",{className:"column text-center",children:[Object(j.jsx)("input",{type:"text",id:"roomID",onChange:this.onChange,placeholder:"roomID",className:"form-control"})," ",Object(j.jsx)("br",{}),Object(j.jsx)("button",{className:"blue shadow-move btn mx-md-2 my-2 my-md-0",onClick:this.onCreateRoom,children:"create new room"}),Object(j.jsx)("button",{className:"red shadow-move btn  mx-md-2 my-2 my-md-0",onClick:this.onJoinRoom,children:"join room"})]})]})}}]),n}(c.Component),p=n(87),v=n(20),D=n(43),f=n.n(D),w=n(44),x=n.n(w),C=n(84),Z="https://teams-clone-backend-server.herokuapp.com/",O=n.n(C)()(Z),y=n(178),N=n(179),B=n(180),P=n(181),V=function(e){var t=Object(c.useRef)();return Object(c.useEffect)((function(){e.peer.on("stream",(function(e){t.current.srcObject=e}))}),[]),Object(j.jsx)("video",{className:"h-50 col-md-5 col-sm-12 p-1",playsInline:!0,autoPlay:!0,ref:t})},L=function(e){var t=Object(c.useState)(!1),n=Object(v.a)(t,2),o=n[0],s=n[1],a=Object(c.useState)(!1),i=Object(v.a)(a,2),r=i[0],l=i[1],A=Object(c.useState)([]),u=Object(v.a)(A,2),d=u[0],g=u[1],b=Object(c.useRef)(),I=Object(c.useRef)(),h=Object(c.useRef)([]),D=e.roomID;function w(){I.current&&(I.current.getAudioTracks()[0].enabled=!I.current.getAudioTracks()[0].enabled),s(!o),console.log("mute")}function C(){I.current&&(I.current.getVideoTracks()[0].enabled=!I.current.getVideoTracks()[0].enabled),l(I.current.getVideoTracks()[0].enabled),console.log("cam")}function Z(){return o?Object(j.jsx)(y.a,{onClick:w}):Object(j.jsx)(N.a,{onClick:w})}function L(){return r?Object(j.jsx)(B.a,{onClick:C}):Object(j.jsx)(P.a,{onClick:C})}return Object(c.useEffect)((function(){O.on("connection",(function(){console.log("connected to client")})),navigator.mediaDevices.getUserMedia({video:!0,audio:!0}).then((function(e){b.current.srcObject=e,I.current=e,I.current.getAudioTracks()[0].enabled=!1,I.current.getVideoTracks()[0].enabled=!1,O.emit("join room",D),O.on("all users",(function(t){var n=[];console.log(t),t.forEach((function(t){var c=function(e,t,n){var c=new f.a({initiator:!0,trickle:!1,stream:n});return c.on("signal",(function(n){O.emit("sending signal",{userToSignal:e,callerID:t,signal:n})})),c}(t,O.id,e);h.current.push({peerID:t,peer:c}),n.push({peerID:t,peer:c})})),g(n)})),O.on("user joined",(function(t){var n=function(e,t,n){var c=new f.a({initiator:!1,trickle:!1,stream:n});return c.on("signal",(function(e){O.emit("returning signal",{signal:e,callerID:t})})),c.signal(e),c}(t.signal,t.callerID,e);h.current.push({peerID:t.callerID,peer:n}),g([].concat(Object(p.a)(d),[{peer:n,peerID:t.callerID}]))})),O.on("user-left",(function(e){var t=e.userID,n=h.current.find((function(e){return e.peerID===t}));n&&n.peer.destroy();var c=h.current.filter((function(e){return e.peerID!==t}));h.current=c,g(c)})),O.on("receiving returned signal",(function(e){h.current.find((function(t){return t.peerID===e.id})).peer.signal(e.signal)}))}))}),[]),Object(j.jsxs)("div",{className:"sea-green h-100 container m-0 p-0 ",children:[Object(j.jsxs)("div",{className:"row h-95 align-middle justify-content-center vidGrid m-0 p-0",children:[Object(j.jsx)("video",{className:"h-50 col-md-5 col-sm-12 p-1",muted:!0,ref:b,autoPlay:!0,playsInline:!0}),d.map((function(e){return Object(j.jsx)(V,{peer:e.peer},e.peerID)}))]}),Object(j.jsxs)("div",{className:"controls row w-100 muave justify-content-between ",children:[Object(j.jsx)(x.a,{query:"(min-width: 800px)",children:Object(j.jsxs)("div",{className:"col-sm-auto text-left logo ms-1",children:["TeamsLite \xa0",Object(j.jsx)("img",{src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAMAAAADACAYAAABS3GwHAAAFVmlUWHRYTUw6Y29tLmFkb2JlLnhtcAAAAAAAPD94cGFja2V0IGJlZ2luPSLvu78iIGlkPSJXNU0wTXBDZWhpSHpyZVN6TlRjemtjOWQiPz4KPHg6eG1wbWV0YSB4bWxuczp4PSJhZG9iZTpuczptZXRhLyIgeDp4bXB0az0iWE1QIENvcmUgNS41LjAiPgogPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4KICA8cmRmOkRlc2NyaXB0aW9uIHJkZjphYm91dD0iIgogICAgeG1sbnM6ZGM9Imh0dHA6Ly9wdXJsLm9yZy9kYy9lbGVtZW50cy8xLjEvIgogICAgeG1sbnM6ZXhpZj0iaHR0cDovL25zLmFkb2JlLmNvbS9leGlmLzEuMC8iCiAgICB4bWxuczp0aWZmPSJodHRwOi8vbnMuYWRvYmUuY29tL3RpZmYvMS4wLyIKICAgIHhtbG5zOnBob3Rvc2hvcD0iaHR0cDovL25zLmFkb2JlLmNvbS9waG90b3Nob3AvMS4wLyIKICAgIHhtbG5zOnhtcD0iaHR0cDovL25zLmFkb2JlLmNvbS94YXAvMS4wLyIKICAgIHhtbG5zOnhtcE1NPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvbW0vIgogICAgeG1sbnM6c3RFdnQ9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9zVHlwZS9SZXNvdXJjZUV2ZW50IyIKICAgZXhpZjpQaXhlbFhEaW1lbnNpb249IjE5MiIKICAgZXhpZjpQaXhlbFlEaW1lbnNpb249IjE5MiIKICAgZXhpZjpDb2xvclNwYWNlPSIxIgogICB0aWZmOkltYWdlV2lkdGg9IjE5MiIKICAgdGlmZjpJbWFnZUxlbmd0aD0iMTkyIgogICB0aWZmOlJlc29sdXRpb25Vbml0PSIyIgogICB0aWZmOlhSZXNvbHV0aW9uPSIzMDAuMCIKICAgdGlmZjpZUmVzb2x1dGlvbj0iMzAwLjAiCiAgIHBob3Rvc2hvcDpDb2xvck1vZGU9IjMiCiAgIHBob3Rvc2hvcDpJQ0NQ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",className:"h-5"})]})}),Object(j.jsxs)("div",{className:"col-sm-auto text-center",children:[Object(j.jsx)(Z,{}),Object(j.jsx)(L,{})]}),Object(j.jsx)(x.a,{query:"(min-width: 600px)",children:Object(j.jsx)("div",{className:"col-sm-auto float-right leave",children:Object(j.jsx)(m.b,{to:"/",children:"Leave meeting"})})})]})]})},G=n(85);function k(){console.log("scroll");var e=document.getElementById("msg-list");console.log(e),e.scrollTo(0,e.scrollHeight-e.clientHeight)}var Q=function(e){var t=e.messages;return Object(j.jsx)("ul",{className:"message-list w-100",children:t.map((function(e){return Object(j.jsxs)("li",{children:[Object(j.jsxs)("div",{className:"msg ",children:[Object(j.jsxs)("b",{children:[e.from,":"]}),Object(j.jsx)("br",{})," ",e.msg,Object(j.jsx)("br",{})]}),Object(j.jsx)("br",{})]})}))})},M=function(e){var t=Object(c.useState)([]),n=Object(v.a)(t,2),o=n[0],s=n[1],a=Object(c.useState)(""),i=Object(v.a)(a,2),l=i[0],m=i[1],A=e.dispName,u=e.roomID;Object(c.useEffect)((function(){k(),d(),O.on("msg-sent",(function(e){console.log("new-messages"),console.log(e),s(e),k()}))}),[]);var d=function(){var e={roomID:u};console.log("getmsgs"),r.a.post("/getMsg",e).then((function(e){s(e.data.msg_list),k()}))};return Object(j.jsxs)("div",{className:"container m-0 p-0",children:[Object(j.jsx)("div",{className:"h-90 prev-chats row m-0 p-0 ",id:"msg-list",children:Object(j.jsx)(Q,{messages:o})}),Object(j.jsx)("div",{className:"h-5 chat-input row m-1",children:Object(j.jsx)("input",Object(G.a)({type:"text",className:"form-control chat-input",name:"chat-input",id:"chat-input",onKeyPress:function(e){if("Enter"===e.key&&l.length>0){var t={msg:l,from:A,roomID:u};console.log({reqData:t}),O.emit("new-msg",t),m(""),document.getElementById("chat-input").value=""}},onChange:function(e){m(e.target.value)}},"id","chat-input"))})]})},J=function(e){var t=sessionStorage.getItem("dispName"),n=e.match.params.roomID;return Object(j.jsx)("div",{className:"container w-100 h-100 mw-100 mh-100 m-0 p-0  main-window",children:Object(j.jsxs)("div",{className:"row m-0 p-0 h-100 vh-100 ",children:[Object(j.jsx)("div",{className:"col-md-9 col-sm-7 col-xs-6 m-0 p-0 h-100",children:Object(j.jsx)(L,{roomID:n,dispName:t})}),Object(j.jsx)("div",{className:"col-md-3 col-sm-5 col-xs-6 m-0 p-0",children:Object(j.jsx)(M,{dispName:t,roomID:n})})]})})};n(156),n(157),n(164);r.a.defaults.baseURL=Z;var E=function(){return Object(l.e)(),Object(j.jsxs)(m.a,{children:[Object(j.jsx)(l.a,{exact:!0,path:"/",component:h}),Object(j.jsx)(l.a,{exact:!0,path:"/:roomID",component:J})]})},W=function(e){e&&e instanceof Function&&n.e(3).then(n.bind(null,182)).then((function(t){var n=t.getCLS,c=t.getFID,o=t.getFCP,s=t.getLCP,a=t.getTTFB;n(e),c(e),o(e),s(e),a(e)}))};a.a.render(Object(j.jsx)(o.a.StrictMode,{children:Object(j.jsx)(E,{})}),document.getElementById("root")),W()},94:function(e,t,n){}},[[165,1,2]]]);
//# sourceMappingURL=main.470769e1.chunk.js.map